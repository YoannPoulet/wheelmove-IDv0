<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> WheelMove-ID : Preprocessing</title>
  <link rel="stylesheet" href="CSS/style.css">
  <link rel="stylesheet" href="CSS/style-pretrtmt.css">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">
</head>
<body>
  <!-- En t√™te -->
  <header class="app-header">
    <div class="header-left">
      <a href="index.html" class="home-img">
        <img src="assets/home.jpeg" alt="Home" class="header-logo" onerror="this.style.display='üè†'">
      </a>
      <img src="assets/logo_CERAH.svg" alt="Logo" class="header-logo" onerror="this.style.display='none'">
    </div>
    <div class="header-center">
      <a href="pretraitement.html" class="header-title">
        <h1 class="header-title" data-i18n="pretrait_title">Pr√©-traitement des donn√©es</h1>
      </a>
    </div>
    <div class="header-right">
      <div class="lang-dropdown" role="region" aria-label="Language selector">
        <button id="langToggle" aria-haspopup="listbox" aria-expanded="false">
          Fran√ßais ‚ñæ
        </button>
        <ul id="langList" role="listbox" tabindex="-1" aria-labelledby="langToggle" hidden>
          <li role="option"><a href="/fr">Fran√ßais</a></li>
          <li role="option"><a href="/en">English</a></li>
          <li role="option"><a href="/es">Espa√±ol</a></li>
        </ul>
      </div>
      <button id="helpBtn" class="help-btn" type="button" aria-label="Aide" data-i18n="help_btn">Aide ?</button>
    </div>
  </header>

  <!-- Message si pas de javascript -->
  <noscript> 
    <div class="msg-noscript">
      ‚ö†Ô∏è <strong>JavaScript d√©sactiv√© !</strong><br>
      Cette page n√©cessite JavaScript pour fonctionner correctement.<br>
      Les fichiers CSV ne pourront pas √™tre charg√©s, les t√¢ches locomotrices ne seront pas calcul√©es, et les chronogrammes ne seront pas affich√©s.<br>
      Veuillez activer JavaScript dans votre navigateur pour utiliser toutes les fonctionnalit√©s.
    </div> 
  </noscript> 

  <!-- D√©but contenu -->
  <div class="container">
    <!-- Step1: Param√®tres globaux -->
    <div class="seuils-container">
      <details id="step1" open>
        <summary class="custom-summary">
          <span class="summary-text" data-i18n-html="pretrait_stp1"><strong>Param√®tres de pr√©-traitement</strong></span>
          <div class="summary-buttons">
            <span id="tickStep1" class="tick hidden">‚úî</span>
            <button id="validateStep1" class="highlight-btn" data-i18n="valider">Valider</button>
            <button id="modifyStep1" class="modify-btn" data-i18n="modifier" disabled>Modifier</button>
          </div>
        </summary>
        <label data-i18n="frequence">Fr√©quence d'acquisition (Hz) : <input type="number" id="freqIMU" step="10" min="10" value="100"></label>

        <div class="initial-filter">
          <label data-i18n="initial_filter_choice">Filtrage initial des donn√©es des gyroscopes et acc√©l√©rom√®tres :</label>
            <div class="filter-controls">
                <!-- Option : aucun -->
                <div class="filter-option">
                    <input type="radio" name="initialFilter" id="filterNone" value="none" checked>
                    <label for="filterNone" data-i18n="initial_filter_none">Aucun</label>
                </div>
                <!-- Option : MA -->
                <div class="filter-option">
                    <input type="radio" name="initialFilter" id="filterMA" value="ma">
                    <label for="filterMA" data-i18n="initial_filter_MA">Moyenne glissante</label>
                    <!-- param√®tres MA -->
                    <div class="params" id="paramsMA">
                        <label for="maWindow" data-i18n="initial_filter_win">Fen√™tre de traitement :</label>
                        <input type="number" id="maWindow" min="3" step="2" value="5">
                    </div>
                </div>
                <!-- Option : SG -->
                <div class="filter-option">
                    <input type="radio" name="initialFilter" id="filterSG" value="SG">
                    <label for="filterSG" data-i18n="initial_filter_SG">Savitzky‚ÄìGolay</label>
                    <!-- param√®tres SG -->
                    <div class="params" id="paramsSG">
                        <label for="sgWindow" data-i18n="initial_filter_win">Fen√™tre de traitement :</label>
                        <input type="number" id="sgWindow" min="3" step="2" value="7">
                        <label for="sgPoly" data-i18n="initial_filter_ord">Ordre du polynome :</label>
                        <input type="number" id="sgPoly" min="1" max="9" step="1" value="2">
                    </div>
                </div>
            </div>
      </details>
    </div>

    <!-- Step2: Param√®tres du FRM -->
    <div class="seuils-container">
      <details id="step2" class="locked">
        <summary class="custom-summary">
          <span class="summary-text" data-i18n-html="pretrait_stp2"><strong>Param√®tres du FRM</strong></span>
          <div class="summary-buttons">
            <span id="tickStep2" class="tick hidden">‚úî</span>
            <button id="validateStep2" data-i18n="valider">Valider</button>
            <button id="modifyStep2" class="modify-btn" data-i18n="modifier" disabled>Modifier</button>
          </div>
        </summary>
        <div class="step2-columns">
          <!-- Colonne de gauche -->
          <div class="step2-column-left">
          <label id="FRMCamber" data-i18n="FRM_camber">A : Carossage (¬∞) : <input type="number" id="FRMcarrossage" step="1" min="0" value="0"></label>
          <div>
            <label for="FRMRayonRoue">
              <span data-i18n="B"> B : </span>
              <span class="toggle" id="toggleRayonCirc">
                <span id="onOpt" class="active" data-i18n="FRM_rad">Rayon</span>
                <span id="offOpt" data-i18n="FRM_circ">Circonf√©rence</span>
              </span>
              <span data-i18n="FRM_ofrearW">des roues arri√®res (cm) :</span>
              <input type="number" id="FRMRayonRoues" step="0.1" min="1">
              <button class="modify-btn" type="button" id="toggleRayonsDiff" data-i18n="FRM_gauchedroite">‚öôÔ∏è Diff√©rencier gauche/droite</button>
            </label>
            <div id="FRMRayonsSepares" style="display: none">
              <label id="FRMRayonRoueDiff">
                <span data-i18n="FRM_G">Gauche :</span> <input type="number" id="FRMRayonRoueG" step="0.1" min="1">
                <span data-i18n="FRM_D">Droite :</span> <input type="number" id="FRMRayonRoueD" step="0.1" min="1">
              </label>
            </div>
          </div>
          <label data-i18n="FRM_distcenterW">C : Voie arri√®re (cm) : <input type="number" id="FRMdistCentresRoues" step="1" min="1"></label>
          </div>
          <!-- Colonne de droite -->
          <div class="step2-column-right">
            <img src="assets/FRM_schema.png" alt="Sch√©ma des param√®tres du FRM" class="frm-schema" onerror="this.style.display='none'">
          </div>
        </div>
      </details>
    </div>

    <!-- Step3: Chargement de la statique -->
    <div class="seuils-container">
      <details id="step3" class="locked">
        <summary class="custom-summary">
          <span class="summary-text" data-i18n-html="pretrait_stp3"><strong>Acquisition statique</strong></span>
          <div class="summary-buttons">
            <span id="tickStep3" class="tick hidden">‚úî</span>
            <button id="validateStep3" data-i18n="valider">Valider</button>
            <button id="modifyStep3" class="modify-btn" data-i18n="modifier" disabled>Modifier</button>
          </div>
        </summary>
        <div class="load-container">
          <button id="loadStatic" data-i18n="static_load">Charger l'acquisition statique</button>
          <div id="dropZoneStatic" class="drop-zone">
            <span data-i18n="single_drop">ou d√©posez le fichier ici</span>
          </div>
        </div>
      </details>
      <!-- Tableau sp√©cifique Statique -->
      <div id="fileTableContainerStatique" class="file-table-container hidden">
        <table id="fileTableStatique"  class="dynamic-table">
          <colgroup>
            <col id="colFileNameStatique" class="colNom">
            <col>
            <col id="colActionStatique" class="colAction">
          </colgroup>
          <thead>
            <tr>
              <th data-i18n="table_name">Nom du fichier</th>
              <th data-i18n="table_status">Statut</th>
              <th style="white-space: nowrap;" data-i18n="table_action">Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- lignes ins√©r√©es dynamiquement -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Step4: Chargement de la ligne droite -->
    <div class="seuils-container">
      <details id="step4" class="locked">
        <summary class="custom-summary">
          <span class="summary-text" data-i18n-html="pretrait_stp4"><strong>Acquisition en ligne droite</strong></span>
          <div class="summary-buttons">
            <span id="tickStep4" class="tick hidden">‚úî</span>
            <button id="validateStep4" data-i18n="valider">Valider</button>
            <button id="modifyStep4" class="modify-btn" data-i18n="modifier" disabled>Modifier</button>
          </div>
        </summary>
        <div class="load-container">
          <button id="loadLigneDroite" data-i18n="straight_load">Charger l'acquisition en ligne droite</button>
          <div id="dropZoneLigneDroite" class="drop-zone">
            <span data-i18n="single_drop">ou d√©posez le fichier ici</span>
          </div>
        </div>
      </details>
      <!-- Tableau sp√©cifique LigneDroite -->
      <div id="fileTableContainerLigneDroite" class="file-table-container hidden">
        <table id="fileTableLigneDroite"  class="dynamic-table">
          <colgroup>
            <col id="colFileNameLigneDroite" class="colNom">
            <col>
            <col id="colActionLigneDroite" class="colAction">
          </colgroup>
          <thead>
            <tr>
              <th data-i18n="table_name">Nom du fichier</th>
              <th data-i18n="table_status">Statut</th>
              <th style="white-space: nowrap;" data-i18n="table_action">Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- lignes ins√©r√©es dynamiquement -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Step5: Chargement des acquisitions √† traiter -->
    <div class="seuils-container">
      <details id="step5" class="locked">
        <summary class="custom-summary">
          <span class="summary-text" data-i18n-html="pretrait_stp5"><strong>Acquisitions √† traiter</strong></span>
          <div class="summary-buttons">
            <span id="tickStep5" class="tick hidden">‚úî</span>
            <button id="validateStep5" data-i18n="valider">Valider</button>
            <button id="modifyStep5" class="modify-btn" data-i18n="modifier" disabled>Modifier</button>
          </div>
        </summary>
        <div class="load-container">
          <button id="loadAcquis" data-i18n="acquis_load">Charger la (les) acquisition(s) √† traiter</button>
          <div id="dropZoneAcquis" class="drop-zone">
            <span data-i18n="multiple_drop">ou d√©posez le(s) fichier(s) ici</span>
          </div>
        </div>
      </details>
      <!-- Tableau sp√©cifique Acquis -->
      <div id="fileTableContainerAcquis" class="file-table-container hidden">
        <table id="fileTableAcquis"  class="dynamic-table">
          <colgroup>
            <col id="colFileNameAcquis" class="colNom">
            <col>
            <col id="colActionAcquis" class="colAction">
          </colgroup>
          <thead>
            <tr>
              <th data-i18n="table_name">Nom du fichier</th>
              <th data-i18n="table_status">Statut</th>
              <th style="white-space: nowrap;" data-i18n="table_action">Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- lignes ins√©r√©es dynamiquement -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Boutons de bas de page -->
    <div class="buttons-row-container">
      <button id="newFRMBtn" disabled> 
          <span class="btn-arrow">ü¢§</span> 
          <span class="btn-text" data-i18n="nouv_FRM">Nouveau FRM</span> 
      </button>
    
      <button id="saveDataIMUBtn" class="highlight-btn" disabled autocomplete="off" data-i18n="preprocessing_btn">
          Traiter les donn√©es
      </button>
    
      <button id="gotoIdentification" onclick="location.href='locomotion.html'">
        <span class="btn-text" data-i18n="identification_button">Identification des t√¢ches </span>
        <span class="btn-arrow">‚û™</span> 
      </button>
    </div>

    <div id="statusMsgSaveIMU"></div>
    
  </div>

  <!-- Footer -->
  <footer class="site-footer" role="contentinfo" aria-label="Pied de page">
    <nav aria-label="Liens pied de page">
      <button class="modal-trigger" data-target="modal-mentions" title="Mentions l√©gales" data-i18n="mentions_link">Mentions l√©gales</button>
      <span aria-hidden="true">|</span>
      <button class="modal-trigger" data-target="modal-contributeurs" title="Contributeurs" data-i18n="auteurs_link">Contributeurs</button>
      <span aria-hidden="true">|</span>
      <button class="modal-trigger" data-target="modal-publis" title="Publications associ√©es" data-i18n="publication_link">Publications associ√©es</button>
      <span aria-hidden="true">|</span>
      <!-- <a href="#modal-citation" title="Nous citer" data-i18n="citation_link">Nous citer</a>
      <span aria-hidden="true">|</span> -->
      <a href="https://mobile.cerahtec.fr/fr/contact/cerah_site_invalides_recherches" target="_blank" rel="noopener noreferrer" title="Nous contacter" data-i18n="contact_link">Nous contacter</a>
    </nav>
  </footer>

  <!-- Boite modale Mentions l√©gales -->
  <div id="modal-mentions" class="modal">
    <div class="modal-content">
      <a href="javascript:void(0)" class="modal-close" aria-label="Fermer la fen√™tre">&times;</a>
      <div data-i18n-html="mentions_legal">
        <h2>Mentions l√©gales</h2>
        <p>
          Cette application est mise gratuitement √† disposition dans le cadre de travaux de recherche scientifique et d‚Äôentra√Ænement sportif.
          Elle est fournie ¬´ en l‚Äô√©tat ¬ª et ne constitue en aucun cas un outil professionnel, certifi√© ou destin√© √† un usage r√©glement√©.
          Les auteurs, d√©veloppeurs et institutions partenaires d√©clinent toute responsabilit√© quant √† tout usage inappropri√© ou d√©tourn√© de l‚Äôapplication,
          ainsi que pour tout dommage direct ou indirect susceptible de r√©sulter de son utilisation, y compris en cas de d√©cision prise sur la base des informations ou r√©sultats qu‚Äôelle fournit.
        </p>
        <p>
          Les donn√©es saisies par l‚Äôutilisateur ne font l‚Äôobjet d‚Äôaucune collecte, conservation, transmission ou exploitation par les auteurs ou par des tiers.
          L‚Äôint√©gralit√© des traitements n√©cessaires au fonctionnement de l‚Äôapplication est ex√©cut√©e localement sur le terminal de l‚Äôutilisateur.
          Ce dernier demeure seul responsable des informations qu‚Äôil renseigne, de la configuration de son mat√©riel et des conditions d‚Äôutilisation du service.
          Les contenus, r√©sultats ou interpr√©tations g√©n√©r√©s par l‚Äôapplication ne sauraient √™tre consid√©r√©s comme refl√©tant de mani√®re officielle la position des institutions partenaires.
        </p>
        <p>
          Les auteurs se r√©servent le droit, √† leur seule discr√©tion, de mettre √† jour, modifier, suspendre ou supprimer l‚Äôacc√®s √† l‚Äôapplication, en tout ou partie, √† tout moment et sans pr√©avis.
          Ils ne garantissent ni la disponibilit√© continue du service, ni l‚Äôabsence d‚Äôerreurs, d‚Äôinterruptions ou d‚Äô√©ventuels dysfonctionnements.
        </p>
      </div>
    </div>
  </div>

  <!-- Boite modale Contributeurs -->
  <div id="modal-contributeurs" class="modal">
    <div class="modal-content">
      <a href="javascript:void(0)" class="modal-close" aria-label="Fermer la fen√™tre">&times;</a>
      <h2 data-i18n="auteurs_link">Contributeurs</h2>
      <div class="contributors-list compact">
        <!-- Contributeur 1 -->
        <div class="contributor-item compact">
          <div class="contributor-info">
            <div class="contributor-name">Christophe Sauret</div>
            <div class="contributor-affiliation">
              Centre de Recherches et d'Etudes sur l'Appareillage des Handicap√©s (CERAH) ‚Äì Institution nationale des Invalides
            </div>
            <a href="https://www.researchgate.net/profile/Christophe-Sauret" target="_blank" class="contributor-link">
              ResearchGate
            </a>
          </div>
        </div>
        <!-- Contributeur 2 -->
        <div class="contributor-item compact">
          <div class="contributor-info">
            <div class="contributor-name">Yoann Poulet</div>
            <div class="contributor-affiliation">
              Centre de Recherches et d'Etudes sur l'Appareillage des Handicap√©s (CERAH) ‚Äì Institution nationale des Invalides
            </div>
            <a href="https://www.researchgate.net/profile/Yoann-Poulet" target="_blank" class="contributor-link">
              ResearchGate
            </a>
          </div>
        </div>
        <!-- Contributeur 3 -->
        <div class="contributor-item compact">
          <div class="contributor-info">
            <div class="contributor-name">Mathieu Deves</div>
            <div class="contributor-affiliation">
              Laboratoire Jeunesse Activit√© Physique et Sportive‚ÄîSant√© (J-AP2S) ‚Äì Universit√© de Toulon
            </div>
            <a href="https://www.researchgate.net/profile/Mathieu-Deves" target="_blank" class="contributor-link">
              ResearchGate
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Boite modale Publications -->
  <div id="modal-publis" class="modal">
    <div class="modal-content">
      <a href="javascript:void(0)" class="modal-close" aria-label="Fermer la fen√™tre">&times;</a>
      <h2 data-i18n="publication_link">Publications associ√©es</h2>
      <div class="contributors-list compact">
        <!-- Publication 1 -->
        <div class="contributor-item compact">
          <div class="contributor-info">
            <div class="contributor-name" data-i18n="pretraitement_button">Pr√©traitement</div>
            <div class="contributor-affiliation">
              Poulet, Y.; Brassart, F.; Simonetti, E.; Pillet, H.; Faupin, A.; Sauret, C. Analyzing Intra-Cycle Velocity Profile and Trunk Inclination during Wheelchair Racing Propulsion. Sensors 2023, 23, 58.
            </div>
            <a href=" https://doi.org/10.3390/s23010058" target="_blank" class="contributor-link">
              https://doi.org/10.3390/s23010058 
            </a>
          </div>
        </div>
        <!-- Publication 2 -->
        <div class="contributor-item compact">
          <div class="contributor-info">
            <div class="contributor-name" data-i18n="identification_button">Identifiaction des t√¢ches</div>
            <div class="contributor-affiliation">
              Deves, M.; Sauret, C.; Alberca, I.; Honnorat, L.; Poulet, Y.; Hays, A.; Faupin, A. Activity Identification, Classification, and Representation of Wheelchair Sport Court Tasks: A Method Proposal. Methods Protoc. 2024, 7, 84.
            </div>
            <a href="https://doi.org/10.3390/mps7050084" target="_blank" class="contributor-link">
              https://doi.org/10.3390/mps7050084 
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Boite modale citation -->
  <!-- <div id="modal-citation" class="modal">
    <div class="modal-content">
      <a href="#!" class="modal-close" aria-label="Fermer la fen√™tre">&times;</a>
      <h2 data-i18n="citation_link">Nous citer</h2>
      <div class="contributors-list compact">
        <div class="contributor-item compact">
          <div class="contributor-info">
            <div class="contributor-name">A faire</div>
            <div class="contributor-affiliation">
              Publier dans Journal of OpenSource Software pour obtenir un DOI √† mettre ici (ex : https://joss.theoj.org/papers/10.21105/joss.00927)
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->


  <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js" defer></script>
  <script src="JS/i18n.js" defer></script>
  <script src="JS/common.js" defer></script>
  <script src="JS/pretraitement.js" defer></script>

</body>
</html>


